1、三次握手

1）客户端想服务端发起握手 syn = 1 ack = 0 seq = u
2）服务端接收到消息，向客户端发一次握手消息 ack = u+1 seq = w
3）客户端收到消息，在发送一条消息 ack=w+1，seq=u+1，建立链接
问题：
1）：为什么不能是两次握手？
如果没有步骤三，在步骤 2 的时候包丢失了，客户端一直认为没成功会重新发起链接请求，但是这是服务端已经建立了链接，造成资源浪费
2）：什么是半链接队列？
客户端发起第一次请求是，链接未建立，服务端会放到半链接队列中
链接成功，进入到链接队列
3）：第一次握手能带数据吗？
不能，服务端要处理报文数据，占用资源
4）：什么是 syn 攻击？
模拟多个 IP 和服务端建立链接，由于客户端不存在，服务端收不到确认链接，会不断的重试，造成服务端拥堵
解决办法：
1、限制半链接数量
2、减少超时重传的时间

四次挥手：
1）客户端发送一个断开链接的消息服务端，FIN = 1， seq = u，ack = 0,客户端状 close_wait1 2)服务端接收到客户端发来的断开连接的消息之后，发送一条消息给客户端，seq = v，ack=u+1，告诉服务端准备断开连接，服务端处在 close-wait 状态，不再接受消息，同时把未发送完的消息发送到客户端
3）客户端收到服务端的消息，进入到 close-wait2 状态，接受剩余的消息
4）服务端将剩余的数据发送完之后，给客户端发送一个消息 seq = w，ack=u+1，告诉客户端消息传送完成，服务端进入 last-ack 的状态
5）客户端收到服务端的消息之后，进入到 wait-time 阶段，发送一条消息 seq=u+1，seq=w+1，
6）服务端收到消息之后关闭链接
7）客户端等待 2msl 时间，之后没收到消息关闭

问题：
1）为什么等待 2msl 时间
2）msl 时间是怎么计算的
